{"is_source_file": true, "format": "Python", "description": "This is a Django-based API view module for a question-answering service utilizing OpenAI models. It provides health checking and question-answer endpoints, handles environment variables for API keys and configuration, and interfaces with the OpenAI SDK for chat completions and legacy completions.", "external_files": ["./serializers"], "external_methods": ["AskRequestSerializer", "AskResponseSerializer"], "published": ["health", "ask"], "classes": [], "methods": [{"name": "health(request)", "description": "A simple GET endpoint to check if the server is running.", "scope": "", "scopeKind": ""}, {"name": "ask(request)", "description": "Handles a POST request to submit a question and returns an AI-generated answer, supporting both chat-based and legacy completion models using the OpenAI SDK.", "scope": "", "scopeKind": ""}], "calls": ["os.getenv", "rest_framework.response.Response", "rest_framework import status", "AskRequestSerializer(data=request.data).is_valid", "AskRequestSerializer.validated_data", "OpenAI(api_key, base_url)", "client.chat.completions.create", "client.completions.create", "Response", "status.HTTP_400_BAD_REQUEST", "status.HTTP_500_INTERNAL_SERVER_ERROR"], "search-terms": ["Django API views", "OpenAI SDK integration", "question-answer REST API", "health check", "chat completion fallback", "environment variables", "CSRF exempt", "serializers"], "state": 2, "file_id": 14, "knowledge_revision": 51, "git_revision": "a3dda89956e5e0e5122c65172531746524b8a279", "revision_history": [{"35": "03f91886046d067da890b260b4ee31b27a17b702"}, {"40": "03f91886046d067da890b260b4ee31b27a17b702"}, {"49": "6fc14ff81f7704a0532b1267614f75bcf7392907"}, {"51": "a3dda89956e5e0e5122c65172531746524b8a279"}], "ctags": [{"_type": "tag", "name": "ask", "path": "/home/kavia/workspace/code-generation/simple-qa-assistant-34089-34099/backend_fastapi/api/views.py", "pattern": "/^def ask(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "health", "path": "/home/kavia/workspace/code-generation/simple-qa-assistant-34089-34099/backend_fastapi/api/views.py", "pattern": "/^def health(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}], "hash": "3326a5650e3f926bad7a2475a258e2f6", "format-version": 4, "code-base-name": "backend_fastapi", "filename": "backend_fastapi/api/views.py"}